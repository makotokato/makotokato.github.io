<!DOCTYPE html>
<html>
<head>
<script>
function lock() {
  document.getElementById("state").innerText = window.screen.orientation.type;

  let elm = document.documentElement;
  if (window.screen.msLockOrientation) {
    elm.msRequestFullscreen();
    if (!window.screen.msLockOrientation("portrait-primary")) {
      document.getElementById("error").innerText = "LockOrientation failure";
      return;
    }
    document.getElementById("state").innerText = window.screen.msOrientation;
    return;
  }
  elm.requestFullscreen().then(function() {
    window.screen.orientation.lock("portrait-primary").then(function() {
      document.getElementById("state").innerText = window.screen.orientation.type;
    }, function(e) {
      document.getElementById("error").innerText = "LockOrientation failure: " + e;
    })
  });
}

function unlock() {
  if (window.screen.msUnlockOrientation) {
    document.msExitFullscreen();
    window.screen.msUnlockOrientation();
    document.getElementById("state").innerText = window.screen.msOrientation;
    return;
  }
  if (document.fullscreenElement) {
    document.exitFullscreen().then(function() {
      window.screen.orientation.unlock();
      document.getElementById("state").innerText = window.screen.orientation.type;
    });
  }
}
</script>
</head>
<body>
  <button onclick="lock()">lock</button>
  <button onclick="unlock()">unlock</button>
  <div id="state"></div>
  <div id="error"></div>
</body>
</html>
