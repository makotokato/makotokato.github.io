<!DOCTYPE html>
<html>
<head>
<script>
function lock() {
  let elm = document.documentElement;
  if (window.screen.msLockOrientation) {
    elm.msRequestFullscreen();
    window.screen.msLockOrientation("portrait-primary");
    document.getElementById("state").innerText = window.screen.msOrientation;
    return;
  }
  elm.requestFullscreen().then(function() {
    window.screen.orientation.lock("portrait-primary").then(function() {
      document.getElementById("state").innerText = window.screen.orientation.type;
    })
  });
}

function unlock() {
  if (window.screen.msUnlockOrientation) {
    document.msExitFullscreen();
    window.screen.msUnlockOrientation();
    document.getElementById("state").innerText = window.screen.msOrientation;
    return;
  }
  if (document.fullscreenElement) {
    document.exitFullscreen().then(function() {
      window.screen.orientation.unlock();
      document.getElementById("state").innerText = window.screen.orientation.type;
    });
  }
}
</script>
</head>
<body>
  <button onclick="lock()">lock</button>
  <button onclick="unlock()">unlock</button>
  <div id="state"></div>
</body>
</html>
