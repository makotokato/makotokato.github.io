<!DOCTYPE html>
<html>
  <head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
<body>
<input inputmode="text" id="input1"><span id="state"></span>
<script>
  document.getElementById("input1").addEventListener("input", e => {
    let elm = document.getElementById("input1");
    if (elm.inputMode == "text") {
      elm.setAttribute("inputmode", "search");
      document.getElementById("state").innerHTML = "inputmode is search";
    } else {
      elm.setAttribute("inputmode", "text");
      document.getElementById("state").innerHTML = "inputmode is text";
    }
  });
</script>
</body>
</html>
